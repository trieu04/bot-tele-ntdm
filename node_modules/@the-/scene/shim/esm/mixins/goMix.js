/**
 * @function goMix
 * @memberOf module:@the-/scene.mixins
 * @param {function} BaseClass
 * @returns {function} MixedClass
 */
'use strict';

import _classCallCheck from "@babel/runtime/helpers/classCallCheck";
import _createClass from "@babel/runtime/helpers/createClass";
import _possibleConstructorReturn from "@babel/runtime/helpers/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime/helpers/getPrototypeOf";
import _inherits from "@babel/runtime/helpers/inherits";
import { get } from 'bwindow';
import { formatUrl } from '@the-/url';
/** @lends module:@the-/scene.mixins.goMix */

function goMix(BaseClass) {
  /**
   * @inner
   * @memberOf module:@the-/scene.mixins.goMix
   */
  var GoMixed =
  /*#__PURE__*/
  function (_BaseClass) {
    _inherits(GoMixed, _BaseClass);

    function GoMixed() {
      _classCallCheck(this, GoMixed);

      return _possibleConstructorReturn(this, _getPrototypeOf(GoMixed).apply(this, arguments));
    }

    _createClass(GoMixed, [{
      key: "goTo",
      value: function goTo(href) {
        var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        href = formatUrl(href, params);
        var history = this.history;

        if (history) {
          history.push(href);
          return;
        }

        var location = get('location');

        if (location) {
          location.href = href;
          return;
        }

        console.warn("Failed to go to ".concat(href));
      }
    }, {
      key: "goToTop",
      value: function goToTop() {
        this.goTo('/');
      }
    }]);

    return GoMixed;
  }(BaseClass);

  return GoMixed;
}

export default goMix;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdvTWl4LmpzIl0sIm5hbWVzIjpbImdldCIsImZvcm1hdFVybCIsImdvTWl4IiwiQmFzZUNsYXNzIiwiR29NaXhlZCIsImhyZWYiLCJwYXJhbXMiLCJoaXN0b3J5IiwicHVzaCIsImxvY2F0aW9uIiwiY29uc29sZSIsIndhcm4iLCJnb1RvIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBTUE7Ozs7Ozs7QUFFQSxTQUFRQSxHQUFSLFFBQWtCLFNBQWxCO0FBQ0EsU0FBUUMsU0FBUixRQUF3QixXQUF4QjtBQUVBOztBQUNBLFNBQVNDLEtBQVQsQ0FBZUMsU0FBZixFQUEwQjtBQUN4Qjs7OztBQUR3QixNQUtsQkMsT0FMa0I7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSwyQkFNakJDLElBTmlCLEVBTUU7QUFBQSxZQUFiQyxNQUFhLHVFQUFKLEVBQUk7QUFDdEJELFFBQUFBLElBQUksR0FBR0osU0FBUyxDQUFDSSxJQUFELEVBQU9DLE1BQVAsQ0FBaEI7QUFEc0IsWUFFZEMsT0FGYyxHQUVGLElBRkUsQ0FFZEEsT0FGYzs7QUFHdEIsWUFBSUEsT0FBSixFQUFhO0FBQ1hBLFVBQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhSCxJQUFiO0FBQ0E7QUFDRDs7QUFDRCxZQUFNSSxRQUFRLEdBQUdULEdBQUcsQ0FBQyxVQUFELENBQXBCOztBQUNBLFlBQUlTLFFBQUosRUFBYztBQUNaQSxVQUFBQSxRQUFRLENBQUNKLElBQVQsR0FBZ0JBLElBQWhCO0FBQ0E7QUFDRDs7QUFDREssUUFBQUEsT0FBTyxDQUFDQyxJQUFSLDJCQUFnQ04sSUFBaEM7QUFDRDtBQW5CcUI7QUFBQTtBQUFBLGdDQXFCWjtBQUNSLGFBQUtPLElBQUwsQ0FBVSxHQUFWO0FBQ0Q7QUF2QnFCOztBQUFBO0FBQUEsSUFLRlQsU0FMRTs7QUEwQnhCLFNBQU9DLE9BQVA7QUFDRDs7QUFFRCxlQUFlRixLQUFmIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Zhci9mb2xkZXJzL3YzL3BzNmtyZmIxMnczN3FweTdnZDB5aHI4NDAwMDBnbi9UL3RtcC00MTY3MTc2Z3NRVmV0Q2FuayIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZ1bmN0aW9uIGdvTWl4XG4gKiBAbWVtYmVyT2YgbW9kdWxlOkB0aGUtL3NjZW5lLm1peGluc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gQmFzZUNsYXNzXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IE1peGVkQ2xhc3NcbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7Z2V0fSBmcm9tICdid2luZG93JztcbmltcG9ydCB7Zm9ybWF0VXJsfSBmcm9tICdAdGhlLS91cmwnO1xuXG4vKiogQGxlbmRzIG1vZHVsZTpAdGhlLS9zY2VuZS5taXhpbnMuZ29NaXggKi9cbmZ1bmN0aW9uIGdvTWl4KEJhc2VDbGFzcykge1xuICAvKipcbiAgICogQGlubmVyXG4gICAqIEBtZW1iZXJPZiBtb2R1bGU6QHRoZS0vc2NlbmUubWl4aW5zLmdvTWl4XG4gICAqL1xuICBjbGFzcyBHb01peGVkIGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgICBnb1RvKGhyZWYsIHBhcmFtcyA9IHt9KSB7XG4gICAgICBocmVmID0gZm9ybWF0VXJsKGhyZWYsIHBhcmFtcylcbiAgICAgIGNvbnN0IHsgaGlzdG9yeSB9ID0gdGhpc1xuICAgICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgICAgaGlzdG9yeS5wdXNoKGhyZWYpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXQoJ2xvY2F0aW9uJylcbiAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gaHJlZlxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGdvIHRvICR7aHJlZn1gKVxuICAgIH1cblxuICAgIGdvVG9Ub3AoKSB7XG4gICAgICB0aGlzLmdvVG8oJy8nKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBHb01peGVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IGdvTWl4O1xuIl19