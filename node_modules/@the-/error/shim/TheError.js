/**
 * Basic error
 * @memberOf module:@the-/error
 * @class TheError
 */
'use strict';
/** @lends TheError */

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _wrapNativeSuper2 = _interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));

var TheError =
/*#__PURE__*/
function (_Error) {
  (0, _inherits2["default"])(TheError, _Error);

  function TheError(message) {
    var _this;

    var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    (0, _classCallCheck2["default"])(this, TheError);
    var _options$resolved = options.resolved,
        resolved = _options$resolved === void 0 ? false : _options$resolved;
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(TheError).call(this, message));
    _this.detail = detail;
    _this.status = _this.constructor.status || 400;
    _this.name = _this.constructor.errorName || _this.constructor.name || 'error';
    _this.resolved = resolved;
    return _this;
  }

  return TheError;
}((0, _wrapNativeSuper2["default"])(Error));

TheError.errorName = 'Error';
TheError.status = 400;

TheError.withName = function (name) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var _options$status = options.status,
      status = _options$status === void 0 ? 400 : _options$status;
  return Object.assign(
  /*#__PURE__*/
  function (_TheError) {
    (0, _inherits2["default"])(NamedError, _TheError);

    function NamedError() {
      (0, _classCallCheck2["default"])(this, NamedError);
      return (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(NamedError).apply(this, arguments));
    }

    return NamedError;
  }(TheError), {
    errorName: name,
    status: status
  });
};

module.exports = TheError;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRoZUVycm9yLmpzIl0sIm5hbWVzIjpbIlRoZUVycm9yIiwibWVzc2FnZSIsImRldGFpbCIsIm9wdGlvbnMiLCJyZXNvbHZlZCIsInN0YXR1cyIsImNvbnN0cnVjdG9yIiwibmFtZSIsImVycm9yTmFtZSIsIkVycm9yIiwid2l0aE5hbWUiLCJPYmplY3QiLCJhc3NpZ24iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUFLQTtBQUVBOzs7Ozs7Ozs7Ozs7OztJQUNNQSxROzs7OztBQUNKLG9CQUFZQyxPQUFaLEVBQWdEO0FBQUE7O0FBQUEsUUFBM0JDLE1BQTJCLHVFQUFsQixFQUFrQjtBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBO0FBQUEsNEJBQ2pCQSxPQURpQixDQUN0Q0MsUUFEc0M7QUFBQSxRQUN0Q0EsUUFEc0Msa0NBQzNCLEtBRDJCO0FBRTlDLG9IQUFNSCxPQUFOO0FBQ0EsVUFBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsVUFBS0csTUFBTCxHQUFjLE1BQUtDLFdBQUwsQ0FBaUJELE1BQWpCLElBQTJCLEdBQXpDO0FBQ0EsVUFBS0UsSUFBTCxHQUFZLE1BQUtELFdBQUwsQ0FBaUJFLFNBQWpCLElBQThCLE1BQUtGLFdBQUwsQ0FBaUJDLElBQS9DLElBQXVELE9BQW5FO0FBQ0EsVUFBS0gsUUFBTCxHQUFnQkEsUUFBaEI7QUFOOEM7QUFPL0M7OztvQ0FSb0JLLEs7O0FBV3ZCVCxRQUFRLENBQUNRLFNBQVQsR0FBcUIsT0FBckI7QUFDQVIsUUFBUSxDQUFDSyxNQUFULEdBQWtCLEdBQWxCOztBQUVBTCxRQUFRLENBQUNVLFFBQVQsR0FBb0IsVUFBQ0gsSUFBRCxFQUF3QjtBQUFBLE1BQWpCSixPQUFpQix1RUFBUCxFQUFPO0FBQUEsd0JBQ2pCQSxPQURpQixDQUNsQ0UsTUFEa0M7QUFBQSxNQUNsQ0EsTUFEa0MsZ0NBQ3pCLEdBRHlCO0FBRTFDLFNBQU9NLE1BQU0sQ0FBQ0MsTUFBUDtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLElBQXVDWixRQUF2QyxHQUFvRDtBQUN6RFEsSUFBQUEsU0FBUyxFQUFFRCxJQUQ4QztBQUV6REYsSUFBQUEsTUFBTSxFQUFOQTtBQUZ5RCxHQUFwRCxDQUFQO0FBSUQsQ0FORDs7QUFRQVEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxRQUFqQiIsInNvdXJjZVJvb3QiOiIuLi9saWIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhc2ljIGVycm9yXG4gKiBAbWVtYmVyT2YgbW9kdWxlOkB0aGUtL2Vycm9yXG4gKiBAY2xhc3MgVGhlRXJyb3JcbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbi8qKiBAbGVuZHMgVGhlRXJyb3IgKi9cbmNsYXNzIFRoZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBkZXRhaWwgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyByZXNvbHZlZCA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICAgIHRoaXMuc3RhdHVzID0gdGhpcy5jb25zdHJ1Y3Rvci5zdGF0dXMgfHwgNDAwXG4gICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5lcnJvck5hbWUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdlcnJvcidcbiAgICB0aGlzLnJlc29sdmVkID0gcmVzb2x2ZWRcbiAgfVxufVxuXG5UaGVFcnJvci5lcnJvck5hbWUgPSAnRXJyb3InXG5UaGVFcnJvci5zdGF0dXMgPSA0MDBcblxuVGhlRXJyb3Iud2l0aE5hbWUgPSAobmFtZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgc3RhdHVzID0gNDAwIH0gPSBvcHRpb25zXG4gIHJldHVybiBPYmplY3QuYXNzaWduKGNsYXNzIE5hbWVkRXJyb3IgZXh0ZW5kcyBUaGVFcnJvciB7fSwge1xuICAgIGVycm9yTmFtZTogbmFtZSxcbiAgICBzdGF0dXMsXG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gVGhlRXJyb3JcbiJdfQ==